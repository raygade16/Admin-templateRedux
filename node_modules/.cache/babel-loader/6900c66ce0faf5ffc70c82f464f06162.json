{"ast":null,"code":"var _jsxFileName = \"D:\\\\React\\\\Admin-template\\\\src\\\\views\\\\ui-components\\\\Students.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useReducer } from 'react'; //import Menu from './Menu';\n\nimport Table from \"react-bootstrap/Table\";\nimport Button from \"react-bootstrap/Button\"; //import {getCustomers,addCustomer,deleteCustomer,updateCustomer} from '../service/CustomerService';\n\nimport { getCustomers, addCustomer, deleteCustomer, updateCustomer } from '../../service/CustomerServiceAPI'; // function \n//export default About;\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialState = {\n  id: 0,\n  name: '',\n  email: '',\n  phone: '',\n  address: '',\n  label: 'Add'\n};\n\nfunction reducer(state, action) {\n  console.log(\"action:\" + JSON.stringify(action)); //function takes action and based on action it will modify the state\n\n  switch (action.type) {\n    case 'reset':\n      return { ...initialState\n      };\n\n    case 'updateField':\n      var newState = { ...state\n      };\n      newState[action.field] = action.data;\n      return newState;\n\n    case 'update':\n      var newState = { ...action\n      };\n      delete newState.type;\n      return newState;\n\n    default:\n      throw new Error();\n  }\n}\n\nexport default function StudentApp() {\n  _s();\n\n  //p 46\n  //\n  // destructure useState\n  const [items, setItems] = useState(getCustomers());\n  const [state, dispatch] = useReducer(reducer, initialState);\n\n  var deleteItem = id => {\n    deleteCustomer({\n      id\n    });\n    setItems(getCustomers());\n  };\n\n  var handleChange = e => {\n    dispatch({\n      type: \"updateField\",\n      field: e.target.name,\n      data: e.target.value\n    });\n  };\n\n  var resetForm = e => {\n    e.preventDefault();\n    dispatch({\n      type: 'reset'\n    });\n  };\n\n  var editItem = id => {\n    var customers = items.filter(item => item.id == id);\n\n    if (customers.length > 0) {\n      let customer = customers[0];\n      dispatch({\n        type: 'update',\n        ...customer,\n        label: \"Update\"\n      });\n    } //this.setState({items:customers});\n\n  };\n\n  var handleSubmit = e => {\n    e.preventDefault();\n\n    if (!state.name.length) {\n      return;\n    }\n\n    const newItem = { ...state,\n      id: Date.now()\n    };\n\n    if (state.id != 0) {\n      //edit\n      newItem.id = state.id;\n      updateCustomer(newItem);\n    } else {\n      //new\n      addCustomer(newItem); //tempItems = items.concat(newItem);\n    }\n\n    dispatch({\n      type: 'reset'\n    });\n    setItems(getCustomers());\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Student\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"name\",\n        placeholder: \"name\",\n        onChange: handleChange,\n        value: state.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 14\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"email\",\n        placeholder: \"email\",\n        onChange: handleChange,\n        value: state.email\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 11\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 14\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"phone\",\n        placeholder: \"phone\",\n        onChange: handleChange,\n        value: state.phone\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 11\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 14\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"address\",\n        placeholder: \"address\",\n        onChange: handleChange,\n        value: state.address\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 11\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 14\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: handleSubmit,\n        children: state.label\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 11\n      }, this), \"\\xA0\\xA0\", /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"secondary\",\n        onClick: resetForm,\n        children: \"Cancel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 16\n    }, this), /*#__PURE__*/_jsxDEV(CustomerList, {\n      items: items,\n      editItem: editItem,\n      deleteItem: deleteItem\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 7\n  }, this);\n}\n\n_s(StudentApp, \"JMyEFdYw4QXitTLCdoAHzz9qtkI=\");\n\n_c = StudentApp;\n\nfunction CustomerList({\n  items,\n  editItem,\n  deleteItem\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Table, {\n      style: {\n        width: \"100%\"\n      },\n      striped: true,\n      bordered: true,\n      hover: true,\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"#\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Phone\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Address\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 11\n      }, this), items.map(item => /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n          children: item.id\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          id: item.id,\n          children: [\" \", item.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: item.email\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: item.phone\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: item.address\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"info\",\n            onClick: () => editItem(item.id),\n            children: \"Edit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"danger\",\n            onClick: () => deleteItem(item.id),\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 15\n        }, this)]\n      }, item.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 13\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 22\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 114,\n    columnNumber: 7\n  }, this);\n}\n\n_c2 = CustomerList;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"StudentApp\");\n$RefreshReg$(_c2, \"CustomerList\");","map":{"version":3,"sources":["D:/React/Admin-template/src/views/ui-components/Students.js"],"names":["React","useState","useEffect","useReducer","Table","Button","getCustomers","addCustomer","deleteCustomer","updateCustomer","initialState","id","name","email","phone","address","label","reducer","state","action","console","log","JSON","stringify","type","newState","field","data","Error","StudentApp","items","setItems","dispatch","deleteItem","handleChange","e","target","value","resetForm","preventDefault","editItem","customers","filter","item","length","customer","handleSubmit","newItem","Date","now","CustomerList","width","map"],"mappings":"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","sourcesContent":["import React, {useState,useEffect,useReducer} from 'react';\r\n//import Menu from './Menu';\r\nimport Table from \"react-bootstrap/Table\"\r\nimport Button from \"react-bootstrap/Button\"\r\n//import {getCustomers,addCustomer,deleteCustomer,updateCustomer} from '../service/CustomerService';\r\nimport {getCustomers,addCustomer,deleteCustomer,updateCustomer} from '../../service/CustomerServiceAPI';\r\n// function \r\n//export default About;\r\nconst initialState = {\r\n  id: 0, name: '', email: '', phone:'',address: '',label:'Add'\r\n};\r\n\r\nfunction reducer(state, action) {\r\n  console.log(\"action:\"+ JSON.stringify(action))\r\n  //function takes action and based on action it will modify the state\r\n  switch (action.type) {\r\n    case 'reset':\r\n      return {...initialState};\r\n    case 'updateField':\r\n      var newState = {...state};\r\n      newState[action.field] = action.data;\r\n      return newState;\r\n    case 'update':\r\n      var newState = {...action};\r\n      delete(newState.type);\r\n      return newState;\r\n    default:\r\n      throw new Error();\r\n  }\r\n}\r\n\r\nexport default function StudentApp() { //p 46\r\n   //\r\n   // destructure useState\r\n   const [items,setItems] = useState(getCustomers());\r\n   const [state, dispatch] = useReducer(reducer, initialState);\r\n\r\n  var deleteItem = (id) =>{\r\n    deleteCustomer({id});\r\n    setItems(getCustomers());\r\n  }\r\n  var handleChange = (e) => {\r\n     dispatch({type:\"updateField\",field:e.target.name, data:e.target.value});\r\n  }\r\n\r\n  var resetForm = (e) =>  {\r\n    e.preventDefault();\r\n    dispatch({type: 'reset'});\r\n  }\r\n  var editItem = (id) =>{\r\n    var customers = items.filter((item)=>(item.id == id))\r\n    if(customers.length > 0){\r\n      let customer = customers[0];\r\n      dispatch({\r\n        type: 'update', ...customer, label:\"Update\"\r\n    });      \r\n    }\r\n    //this.setState({items:customers});\r\n  }\r\n    var handleSubmit = (e) =>  {\r\n      e.preventDefault();\r\n      if (!state.name.length) {\r\n        return;\r\n      }\r\n      const newItem = {\r\n          ...state,\r\n          id:Date.now()\r\n      };\r\n      if(state.id != 0){ //edit\r\n        newItem.id = state.id;\r\n        updateCustomer(newItem);\r\n      }else{ //new\r\n        addCustomer(newItem);\r\n        //tempItems = items.concat(newItem);\r\n      }\r\n      dispatch({type: 'reset'});\r\n      setItems(getCustomers());\r\n    }\r\n    return (\r\n      <div>\r\n          {/* <Menu/> */}\r\n        <h3>Student</h3>\r\n        <form>\r\n          <input name='name' placeholder=\"name\"\r\n            onChange={handleChange}\r\n            value={state.name}\r\n          /> <br/><br/>\r\n          <input name='email' placeholder=\"email\"\r\n            onChange={handleChange}\r\n            value={state.email}\r\n          /> <br/><br/>\r\n          <input name='phone' placeholder=\"phone\"\r\n            onChange={handleChange}\r\n            value={state.phone}\r\n          /> <br/><br/>\r\n          <input name='address' placeholder=\"address\"\r\n            onChange={handleChange}\r\n            value={state.address}\r\n          /> <br/><br/>\r\n          <Button onClick={handleSubmit}> \r\n            {state.label}\r\n          </Button>&nbsp;&nbsp;\r\n          <Button variant=\"secondary\" onClick={resetForm}> \r\n            Cancel\r\n          </Button>\r\n        </form><br/>\r\n        <CustomerList items={items} editItem={editItem} deleteItem={deleteItem}/>\r\n      </div>\r\n    );\r\n  }\r\n\r\nfunction CustomerList({items,editItem,deleteItem}){\r\n    return (\r\n      <div>\r\n        <Table style={{width:\"100%\"}} striped bordered hover>\r\n          <thead>\r\n            <tr>\r\n            <th>#</th>\r\n            <th>Name</th>\r\n            <th>Email</th> \r\n            <th>Phone</th>\r\n            <th>Address</th>\r\n            <th></th>\r\n            <th></th>\r\n            </tr>\r\n          </thead>\r\n          {/* <tbody> */}\r\n          {items.map(item => (\r\n            <tr key={item.id}>\r\n              <td>{item.id}</td>\r\n              <td id={item.id}> {item.name}</td>\r\n              <td>{item.email}</td>\r\n              <td>{item.phone}</td>\r\n              <td>{item.address}</td>\r\n              <td><Button variant=\"info\" onClick={()=>editItem(item.id)} >Edit</Button></td>\r\n              <td><Button variant=\"danger\" onClick={()=>deleteItem(item.id)}>Delete</Button></td>\r\n            </tr>\r\n          ))}\r\n          {/* </tbody> */}\r\n        </Table><br/><br/>\r\n      </div>\r\n    );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}