{"ast":null,"code":"var _jsxFileName = \"D:\\\\React\\\\Admin-template\\\\src\\\\views\\\\ui-components\\\\CustomerApp.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useContext } from 'react';\nimport UserContext from \"../../components/UserContext\";\nimport { Card, CardBody, CardTitle, Table, Spinner } from 'reactstrap';\nimport { getDataIds, getSortSessions, isDevLogin } from '../../service/Sessions';\nimport { dateFormat, timeFormat } from '../../service/Consts';\nimport sprayDevicedImg from '../../assets/images/spray-device.png';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport InfiniteScroll from 'react-infinite-scroller';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Loading = () => {\n  return /*#__PURE__*/_jsxDEV(Spinner, {\n    style: {\n      color: 'rgb(69, 124, 160)'\n    },\n    animation: \"border\",\n    size: \"md\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 13\n  }, this);\n};\n\n_c = Loading;\n\nconst Sessions = () => {\n  _s();\n\n  const userContext = useContext(UserContext);\n  const [loading, setLoading] = useState(false);\n  const [sessions, setSessions] = useState([]);\n  useEffect(() => {\n    setLoading(true);\n    getSortSessions().then(res => {\n      // console.log(\">>\",res.result);\n      if (res && res.result.length) {\n        setSessions(res.result);\n      }\n    });\n    setLoading(false);\n  }, []); //export default function CustomerFuncApp({history,match}) { //p 46\n  //\n  // destructure useState\n  //const [items,setItems] = useState(getCustomers());\n\n  const [id, setId] = useState(0);\n  const [name, setName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [phone, setPhone] = useState(\"\");\n  const [address, setAddress] = useState(\"\");\n  const [label, setLabel] = useState(\"Add\");\n  useEffect(async () => {\n    if (match.params.id) {\n      //edit\n      let customer = await getCustomerById(match.params.id);\n      setId(customer.id);\n      setName(customer.name);\n      setEmail(customer.email);\n      setPhone(customer.phone);\n      setAddress(customer.address);\n      setLabel(\"Update\");\n    }\n  }, []);\n\n  var handleChange = e => {\n    if (e.target.name == \"name\") {\n      setName(e.target.value);\n    } else if (e.target.name == \"email\") {\n      setEmail(e.target.value);\n    } else if (e.target.name == \"phone\") {\n      setPhone(e.target.value);\n    } else if (e.target.name == \"address\") {\n      setAddress(e.target.value);\n    }\n  };\n\n  var handleSubmit = async e => {\n    e.preventDefault();\n\n    if (!name.length) {\n      return;\n    }\n\n    const newItem = {\n      name: name,\n      email: email,\n      phone: phone,\n      address: address,\n      id: Date.now()\n    };\n\n    if (id != 0) {\n      //edit\n      newItem.id = id;\n      await updateCustomer(newItem);\n    } else {\n      //new\n      await addCustomer(newItem); //tempItems = items.concat(newItem);\n    }\n    /*\r\n     setId(0);\r\n     setName(\"\");\r\n     setEmail(\"\");\r\n     setPhone(\"\");\r\n     setAddress(\"\");\r\n     setLabel(\"Add\");\r\n     setItems(getCustomers());*/\n    //history.push(\"/customer\");\n\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Card, {\n      children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n        className: \"border-bottom p-3 mb-0\",\n        style: {\n          color: 'white',\n          backgroundColor: 'rgb(69, 124, 160)',\n          fontSize: '21px'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"CustomersApp\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(CardBody, {\n        style: {\n          padding: 10\n        },\n        children: /*#__PURE__*/_jsxDEV(Table, {\n          striped: true,\n          bordered: true,\n          hover: true,\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            style: {\n              fontSize: 14.5\n            },\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              style: {\n                color: 'rgb(69, 124, 160)'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  whiteSpace: 'nowrap',\n                  zIndex: 1\n                },\n                children: \"ID\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 115,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  whiteSpace: 'nowrap',\n                  zIndex: 1\n                },\n                children: \"Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 116,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  whiteSpace: 'nowrap',\n                  zIndex: 1\n                },\n                children: \"Email\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 117,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  whiteSpace: 'nowrap',\n                  zIndex: 1\n                },\n                children: \"phone\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  whiteSpace: 'nowrap',\n                  zIndex: 1\n                },\n                children: \"address\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 119,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 28\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: sessions.length > 0 && !loading ? sessions.map((item, indx) => /*#__PURE__*/_jsxDEV(\"tr\", {\n              style: item.isRinse == 0 || item.isRinse == undefined ? {\n                color: 'black'\n              } : item.isFinished == 0 ? {\n                color: 'black',\n                backgroundColor: '#48C9B0'\n              } : {\n                color: 'black',\n                backgroundColor: '#EF99AB'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: item.id\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 125,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: item.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 126,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: item.email\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 127,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: item.phone\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 128,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: item.address\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 129,\n                columnNumber: 41\n              }, this)]\n            }, indx, true, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 37\n            }, this)) : !loading ? /*#__PURE__*/_jsxDEV(\"tr\", {\n              style: {\n                padding: 20,\n                paddingLeft: 10,\n                fontSize: 20,\n                color: 'rgb(69, 124, 160)',\n                backgroundColor: \"white\"\n              },\n              children: /*#__PURE__*/_jsxDEV(\"td\", {\n                children: \"No data found.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 131,\n                columnNumber: 154\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 48\n            }, this) : /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 183\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 18\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"name\",\n        placeholder: \"name\",\n        onChange: handleChange,\n        value: name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 11\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 14\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"email\",\n        placeholder: \"email\",\n        onChange: handleChange,\n        value: email\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 11\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 14\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"phone\",\n        placeholder: \"phone\",\n        onChange: handleChange,\n        value: phone\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 11\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 14\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"address\",\n        placeholder: \"address\",\n        onChange: handleChange,\n        value: address\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 11\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 14\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleSubmit,\n        children: label\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 106,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Sessions, \"6Ls62HXESUdxb+j7Tz3SYbfGvQI=\");\n\n_c2 = Sessions;\nexport default Sessions;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Loading\");\n$RefreshReg$(_c2, \"Sessions\");","map":{"version":3,"sources":["D:/React/Admin-template/src/views/ui-components/CustomerApp.js"],"names":["React","useState","useEffect","useContext","UserContext","Card","CardBody","CardTitle","Table","Spinner","getDataIds","getSortSessions","isDevLogin","dateFormat","timeFormat","sprayDevicedImg","ToastContainer","toast","InfiniteScroll","Loading","color","Sessions","userContext","loading","setLoading","sessions","setSessions","then","res","result","length","id","setId","name","setName","email","setEmail","phone","setPhone","address","setAddress","label","setLabel","match","params","customer","getCustomerById","handleChange","e","target","value","handleSubmit","preventDefault","newItem","Date","now","updateCustomer","addCustomer","backgroundColor","fontSize","padding","whiteSpace","zIndex","map","item","indx","isRinse","undefined","isFinished","paddingLeft"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\r\nimport UserContext from \"../../components/UserContext\";\r\nimport {\r\n    Card,\r\n    CardBody,\r\n    CardTitle,\r\n    Table,\r\n    Spinner\r\n} from 'reactstrap';\r\nimport {\r\n    getDataIds,getSortSessions,isDevLogin\r\n} from '../../service/Sessions';\r\n\r\nimport { dateFormat, timeFormat } from '../../service/Consts';\r\nimport sprayDevicedImg from '../../assets/images/spray-device.png';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport InfiniteScroll from 'react-infinite-scroller';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\n\r\nconst Loading = () => {\r\n    return (<Spinner style={{ color: 'rgb(69, 124, 160)' }} animation=\"border\" size=\"md\" />);\r\n}\r\nconst Sessions = () => {\r\n    const userContext = useContext(UserContext);\r\n    const [loading, setLoading] = useState(false);\r\n    const [sessions, setSessions] = useState([]);\r\n   \r\n    useEffect( () => {\r\n        setLoading(true);\r\n        getSortSessions().then((res)=>{\r\n            // console.log(\">>\",res.result);\r\n            if(res && res.result.length){\r\n                setSessions(res.result);\r\n            }\r\n           \r\n        });\r\n        setLoading(false);\r\n    }, []);\r\n\r\n    //export default function CustomerFuncApp({history,match}) { //p 46\r\n        //\r\n        // destructure useState\r\n        //const [items,setItems] = useState(getCustomers());\r\n         const [id,setId] = useState(0);\r\n         const [name,setName] = useState(\"\");\r\n         const [email,setEmail] = useState(\"\");\r\n         const [phone,setPhone] = useState(\"\");\r\n         const [address,setAddress] = useState(\"\");\r\n         const [label,setLabel] = useState(\"Add\");\r\n     \r\n         useEffect(async ()=>{\r\n             if(match.params.id){ //edit\r\n                 let customer = await getCustomerById(match.params.id);\r\n                 setId(customer.id);\r\n                 setName(customer.name);\r\n                 setEmail(customer.email);\r\n                 setPhone(customer.phone);\r\n                 setAddress(customer.address);\r\n                 setLabel(\"Update\");\r\n             }\r\n         },[]);\r\n       var handleChange = (e) => {\r\n           if(e.target.name == \"name\"){\r\n             setName(e.target.value);\r\n           }else if(e.target.name == \"email\"){\r\n             setEmail(e.target.value);\r\n           }else if(e.target.name == \"phone\"){\r\n             setPhone(e.target.value);\r\n           }else if(e.target.name == \"address\"){\r\n             setAddress(e.target.value);\r\n         }\r\n       }\r\n         var handleSubmit = async (e) =>  {\r\n           e.preventDefault();\r\n           if (!name.length) {\r\n             return;\r\n           }\r\n           const newItem = {\r\n               name: name,\r\n               email:email,\r\n               phone:phone,\r\n               address: address,\r\n               id:Date.now()\r\n           };\r\n           if(id != 0){ //edit\r\n             newItem.id = id;\r\n             await updateCustomer(newItem);\r\n           }else{ //new\r\n             await addCustomer(newItem);\r\n             //tempItems = items.concat(newItem);\r\n           }/*\r\n             setId(0);\r\n             setName(\"\");\r\n             setEmail(\"\");\r\n             setPhone(\"\");\r\n             setAddress(\"\");\r\n             setLabel(\"Add\");\r\n             setItems(getCustomers());*/\r\n             //history.push(\"/customer\");\r\n         }\r\n\r\n    return (\r\n        \r\n        <div>\r\n            <Card>\r\n                <CardTitle className=\"border-bottom p-3 mb-0\" style={{ color: 'white', backgroundColor: 'rgb(69, 124, 160)', fontSize: '21px' }}>\r\n                    <b>CustomersApp</b>\r\n                </CardTitle>\r\n                <CardBody style={{padding:10}}>\r\n                 <Table striped bordered hover>\r\n                           <thead style={{fontSize:14.5}}>\r\n                                <tr style={{ color: 'rgb(69, 124, 160)' }}>\r\n                                    <th style={{ whiteSpace: 'nowrap',zIndex:1 }}>ID</th>\r\n                                    <th style={{ whiteSpace: 'nowrap',zIndex:1  }}>Name</th>\r\n                                    <th style={{ whiteSpace: 'nowrap' ,zIndex:1 }}>Email</th>\r\n                                    <th style={{ whiteSpace: 'nowrap',zIndex:1  }}>phone</th>\r\n                                    <th style={{ whiteSpace: 'nowrap' ,zIndex:1 }}>address</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                {sessions.length > 0 && !loading ? sessions.map((item,indx) => (\r\n                                    <tr key={indx} style={item.isRinse == 0 || item.isRinse ==undefined ? { color: 'black'} : item.isFinished == 0 ? { color: 'black',backgroundColor:'#48C9B0'} : {color: 'black',backgroundColor:'#EF99AB'}}>\r\n                                        <td>{item.id}</td>\r\n                                        <td>{item.name}</td>\r\n                                        <td>{item.email}</td>\r\n                                        <td>{item.phone}</td>\r\n                                        <td>{item.address}</td>\r\n                                    </tr>\r\n                                )): !loading ? <tr style={{padding:20,paddingLeft:10, fontSize:20, color: 'rgb(69, 124, 160)',backgroundColor:\"white\" }}><td>No data found.</td></tr>:<span/>}\r\n                            </tbody>\r\n                    </Table>\r\n                </CardBody>\r\n            </Card>\r\n            <form>\r\n          <input name='name' placeholder=\"name\"\r\n            onChange={handleChange}\r\n            value={name}\r\n          /> <br/><br/>\r\n          <input name='email' placeholder=\"email\"\r\n            onChange={handleChange}\r\n            value={email}\r\n          /> <br/><br/>\r\n          <input name='phone' placeholder=\"phone\"\r\n            onChange={handleChange}\r\n            value={phone}\r\n          /> <br/><br/>\r\n          <input name='address' placeholder=\"address\"\r\n            onChange={handleChange}\r\n            value={address}\r\n          /> <br/><br/>\r\n          <button onClick={handleSubmit}> \r\n            {label}\r\n          </button>\r\n        </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Sessions;\r\n"]},"metadata":{},"sourceType":"module"}